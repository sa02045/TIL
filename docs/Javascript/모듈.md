# 💯모듈

#### 1.모듈은 단순히 `스크립트 파일 하나`를 말합니다

#### 2.`import`로 모듈일 불러올 수 있고 `export`를 이용해 모듈을 내보낼 수 있습니다

#### 3.모듈 레벨 스코프

모듈은 자신만의 스코프를 가지고 있는데 모듈 내부에서 정의한 변수, 함수는 다른 스크립트에서 접근할 수 없습니다

::: tip
모듈은 엄격모드로 실행되기 때문에, 선언되지 않은 변수에 값을 할당하는 코드는 실행되지 않습니다
:::

::: warning
동일한 모듈이 여러 곳에서 사용되더라도 최초 호출 `단 한번만` 실행됩니다
:::

- 모듈에서 this는 undefined 입니다

- type="module" 속성을 설정해 스크립트가 모듈이란 걸 브라우저가 알 수 있게 해야합니다

```html
<script type="module">
```

- 기본값은 `defer` 속성과 같이 지연실행 됩니다
- 브라우저의 HTML 파싱을 멈추지 않고, 모듈 스크립트를 백그라운드에서 병렬적으로 다운로드 합니다
- 모듈 스크립트는 대기하다가, HTML 문서가 완전히 준비되면 실행됩니다

#### 4.인라인 스크립트를 이용해 비동기 처리할 수 있습니다

- async 키워드를 사용합니다

```html
<script async type="module">
```

- HTML의 준비를 기다리지 않고 바로 실행 됩니다

::: danger
경로가 없는 모듈은 금지합니다
:::

`import`는 반드시 상대 or 절대 URL 앞에 와야합니다. 확장자 .js를 명시해야합니다
즉, 다음과 같은 경우는 모듈을 실행하지 않습니다

```js
// bad
import { sayHi } from "sayHi"

// good
import { sayHi } from "./src/sayHi.js"
```

#### 5.구식 브라우저에서는 type="module"을 해석할 수 없습니다

#### 6.모듈은 번들러와 함께 사용되어 프로덕션 서버에 사용됩니다

- 번들러는 모듈간의 의존관계를 파악하여 하나의 큰 파일을 만듭니다
- 최적화를 통해 사용되지 않는 코드는 삭제되고, 개발관련 코드를 삭제합니다
- babel을 이용해 낮은버전의 스크립트로 변환됩니다
