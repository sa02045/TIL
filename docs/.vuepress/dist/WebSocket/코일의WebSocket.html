<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>목차 | 물처럼 흐르는 기억을 바위에 새기듯 글로 쓰자</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Today I Learned">
    
    <link rel="preload" href="/til/assets/css/0.styles.b02a8526.css" as="style"><link rel="preload" href="/til/assets/js/app.98926441.js" as="script"><link rel="preload" href="/til/assets/js/2.52735d0a.js" as="script"><link rel="preload" href="/til/assets/js/55.c6bfeb86.js" as="script"><link rel="prefetch" href="/til/assets/js/10.fb583011.js"><link rel="prefetch" href="/til/assets/js/11.c3d16d1b.js"><link rel="prefetch" href="/til/assets/js/12.2232f226.js"><link rel="prefetch" href="/til/assets/js/13.44fe84b3.js"><link rel="prefetch" href="/til/assets/js/14.a8509e64.js"><link rel="prefetch" href="/til/assets/js/15.de5d2d5a.js"><link rel="prefetch" href="/til/assets/js/16.ced72f89.js"><link rel="prefetch" href="/til/assets/js/17.255c4063.js"><link rel="prefetch" href="/til/assets/js/18.97be2875.js"><link rel="prefetch" href="/til/assets/js/19.4ac93f3e.js"><link rel="prefetch" href="/til/assets/js/20.3837a484.js"><link rel="prefetch" href="/til/assets/js/21.1ec34d87.js"><link rel="prefetch" href="/til/assets/js/22.b990229a.js"><link rel="prefetch" href="/til/assets/js/23.fe0757ae.js"><link rel="prefetch" href="/til/assets/js/24.cae1833e.js"><link rel="prefetch" href="/til/assets/js/25.31c757ce.js"><link rel="prefetch" href="/til/assets/js/26.5c04add3.js"><link rel="prefetch" href="/til/assets/js/27.ad8000be.js"><link rel="prefetch" href="/til/assets/js/28.497f6beb.js"><link rel="prefetch" href="/til/assets/js/29.2e7cc36a.js"><link rel="prefetch" href="/til/assets/js/3.6efefc79.js"><link rel="prefetch" href="/til/assets/js/30.32448668.js"><link rel="prefetch" href="/til/assets/js/31.8c04db65.js"><link rel="prefetch" href="/til/assets/js/32.ac7d6896.js"><link rel="prefetch" href="/til/assets/js/33.b4eda343.js"><link rel="prefetch" href="/til/assets/js/34.40413296.js"><link rel="prefetch" href="/til/assets/js/35.752c7654.js"><link rel="prefetch" href="/til/assets/js/36.1536fb62.js"><link rel="prefetch" href="/til/assets/js/37.bc7ec34c.js"><link rel="prefetch" href="/til/assets/js/38.1c5256f9.js"><link rel="prefetch" href="/til/assets/js/39.4f7924f4.js"><link rel="prefetch" href="/til/assets/js/4.eef8e9a7.js"><link rel="prefetch" href="/til/assets/js/40.bca372cc.js"><link rel="prefetch" href="/til/assets/js/41.9e32d85f.js"><link rel="prefetch" href="/til/assets/js/42.f15a3e25.js"><link rel="prefetch" href="/til/assets/js/43.c33e96e4.js"><link rel="prefetch" href="/til/assets/js/44.f9a3929f.js"><link rel="prefetch" href="/til/assets/js/45.764cb28d.js"><link rel="prefetch" href="/til/assets/js/46.5397c7d5.js"><link rel="prefetch" href="/til/assets/js/47.fa830bba.js"><link rel="prefetch" href="/til/assets/js/48.abb7147e.js"><link rel="prefetch" href="/til/assets/js/49.1ea611e1.js"><link rel="prefetch" href="/til/assets/js/5.9313a63c.js"><link rel="prefetch" href="/til/assets/js/50.1ef94080.js"><link rel="prefetch" href="/til/assets/js/51.86ef35cc.js"><link rel="prefetch" href="/til/assets/js/52.f63c0966.js"><link rel="prefetch" href="/til/assets/js/53.330d7319.js"><link rel="prefetch" href="/til/assets/js/54.f2b871e3.js"><link rel="prefetch" href="/til/assets/js/56.491a3595.js"><link rel="prefetch" href="/til/assets/js/57.16c8ec7d.js"><link rel="prefetch" href="/til/assets/js/58.6736e082.js"><link rel="prefetch" href="/til/assets/js/59.cd06d1ce.js"><link rel="prefetch" href="/til/assets/js/6.17d5dd20.js"><link rel="prefetch" href="/til/assets/js/60.abb56cbb.js"><link rel="prefetch" href="/til/assets/js/61.2a7cb3b9.js"><link rel="prefetch" href="/til/assets/js/62.d3a95efa.js"><link rel="prefetch" href="/til/assets/js/63.7a2c9c71.js"><link rel="prefetch" href="/til/assets/js/64.f5df5e20.js"><link rel="prefetch" href="/til/assets/js/65.79db8ae2.js"><link rel="prefetch" href="/til/assets/js/66.e4184fb2.js"><link rel="prefetch" href="/til/assets/js/67.3ea222c0.js"><link rel="prefetch" href="/til/assets/js/68.28125b4c.js"><link rel="prefetch" href="/til/assets/js/69.0e384668.js"><link rel="prefetch" href="/til/assets/js/7.a1d4137f.js"><link rel="prefetch" href="/til/assets/js/70.85b187fe.js"><link rel="prefetch" href="/til/assets/js/71.6cfac657.js"><link rel="prefetch" href="/til/assets/js/72.c0216f92.js"><link rel="prefetch" href="/til/assets/js/73.8769b581.js"><link rel="prefetch" href="/til/assets/js/74.bed1b4f7.js"><link rel="prefetch" href="/til/assets/js/75.1e2c2c8f.js"><link rel="prefetch" href="/til/assets/js/8.4aa6f20e.js"><link rel="prefetch" href="/til/assets/js/9.c1a4b6e6.js">
    <link rel="stylesheet" href="/til/assets/css/0.styles.b02a8526.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/til/" class="home-link router-link-active"><!----> <span class="site-name">물처럼 흐르는 기억을 바위에 새기듯 글로 쓰자</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>알고리즘</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/til/Algorithm/C++입력.html" class="sidebar-link">C++ 입력정리</a></li><li><a href="/til/Algorithm/C++배열선언.html" class="sidebar-link">C++ 배열선언</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Express</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>login</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="목차"><a href="#목차" class="header-anchor">#</a> 목차</h3> <ol><li>웹 소켓이란</li> <li>웹 소켓의 특징</li> <li>웹 소켓 이전의 실시간 통신</li> <li>웹 소켓 동작 방법</li> <li>웹 소켓 프로토콜의 특징</li> <li>웹 소켓 특이점</li></ol> <h2 id="_1-웹-소켓이란"><a href="#_1-웹-소켓이란" class="header-anchor">#</a> 1. 웹 소켓이란</h2> <ul><li>표준 프로토콜 중 하나</li> <li>HTML5에서 많이 사용된다</li> <li>웹 소켓 프로토콜을 지원한다</li> <li>두 프로그램 간의 메시지를 교환하기 위한 통신 방법</li></ul> <h2 id="_2-웹-소켓의-특징"><a href="#_2-웹-소켓의-특징" class="header-anchor">#</a> 2. 웹 소켓의 특징</h2> <ol><li></li></ol> <p>| 양 방향 통신</p> <ul><li>송수신을 동시에 처리할 수 있음</li> <li>서버와 클라이언트가 원할 때 데이터를 주고 받을 수 있음</li> <li>HTTP 통신은 클라이언트의 request 서버의 response하는 단방향 통신</li></ul> <ol start="2"><li>실시간 네트워킹</li></ol> <ul><li>웹에서 연속된 데이터를 빠르게 노출</li> <li>채팅, 주식, 비디오</li> <li>단말기에 빠르게 데이터를 교환</li></ul> <h2 id="_3-웹-소켓-이전의-비슷한-기술"><a href="#_3-웹-소켓-이전의-비슷한-기술" class="header-anchor">#</a> 3. 웹 소켓 이전의 비슷한 기술</h2> <ol><li>polling</li></ol> <ul><li><p>서버로 일정 주기로 요청하는 통신</p></li> <li><p>real-time 통신에서는 언제 통신이 발생할지 예측이 불가능 해짐</p></li> <li><p>불필요한 reqeust와 connectin이 발생</p></li> <li><p>애매한 실시간성</p></li></ul> <ol start="2"><li><p>Long Polling</p></li> <li><p>Streaming</p></li></ol> <ul><li>클라이언트는 서버에 요청을 보내고, 끊기지 않은 연결상태에서 끊임없이 데이터를 수신함</li> <li>클라이언트에서 서버로의 데이터 송신이 어려움</li></ul> <h2 id="_3-웹-소켓의-동작방식-핸드쉐이킹"><a href="#_3-웹-소켓의-동작방식-핸드쉐이킹" class="header-anchor">#</a> 3. 웹 소켓의 동작방식 - 핸드쉐이킹</h2> <ul><li><p>HTTP, HTTPS 프로토콜을 사용</p></li> <li><p>HTTP 헤더의 Upgrade헤더 필드를</p></li></ul> <h3 id="request"><a href="#request" class="header-anchor">#</a> Request</h3> <div class="language- extra-class"><pre class="language-text"><code>Upgrade : websocket;
Connection : Upgrade
Sec-WebSocket-Key : 시크릿키
Sec-WebSocket-Protocol : chat, superchat
</code></pre></div><ul><li><p><code>Upgrade</code> 헤더필드를 websocket으로 명시, <code>Connection</code> 헤더필드를 Upgrade로 명시해주어야함</p></li> <li><p><code>Sec-Webosocket-Key</code>로 서버-클라이언트의 신원을 인증함</p></li> <li><p><code>Sec-WebSocket-Protocol</code> : 클라이언트가 요청하는 여러 서브 프로토콜을 의미함</p> <ul><li>공백문자로 구분되어, 순서에 따라 우선권을 부여</li> <li>서버에서 여러 프로토콜, 프로토콜 버전을 나누어 서비스할 경우 필요한 정보임</li></ul></li></ul> <h3 id="response"><a href="#response" class="header-anchor">#</a> Response</h3> <div class="language- extra-class"><pre class="language-text"><code>Upgrade : websocket
Connection : Upgrade
Sec-WebSocket-Accept : 시크릿 키
</code></pre></div><ul><li><code>Sec-WebSocket-Accept</code> : 클라이언트로부터 받은 시크릿 키를 계산한 값</li></ul> <h3 id="핸드쉐이킹이-완료된-이후-프로토콜이-ws로-변경됨"><a href="#핸드쉐이킹이-완료된-이후-프로토콜이-ws로-변경됨" class="header-anchor">#</a> 핸드쉐이킹이 완료된 이후, 프로토콜이 <code>ws</code>로 변경됨</h3> <ul><li><p><code>wws(443)</code> 데이터보안을 위한 SSL을 적용한 프로토콜도 사용</p></li> <li><p>Message : 여러 frame에 모여서 구성하난 하나의 논리적 메시지 단위</p></li> <li><p>frame : communication에서 가장 작은 단위의 데이터, 작은 헤더 + payload로 구성됨</p></li> <li><p>웹소켓에서 사용되는 데이터는 UTF8 인코딩</p></li></ul> <h2 id="_5-웹-소켓-프로토콜의-특징"><a href="#_5-웹-소켓-프로토콜의-특징" class="header-anchor">#</a> 5. 웹 소켓 프로토콜의 특징</h2> <ul><li><p>최초 접속에서만 http 프로토콜 위에서 handshaking을 하기 때문에 http header을 사용한다</p></li> <li><p>웹소켓을 위한 별도포트는 없으며, 기존포트(http-80, https-443)을 사용함</p></li> <li><p>frame이라는 논리적 단위로 송수신함. 명령,헤더,바디로 구상된다.</p></li> <li><p>메시지에 포함될 수 있는 교환 가능한 메시지는 텍스트 + 바이너리</p></li></ul> <h2 id="_6-웹-소켓의-한계"><a href="#_6-웹-소켓의-한계" class="header-anchor">#</a> 6. 웹 소켓의 한계</h2> <p>웹 소켓 -&gt; HTML5</p> <ul><li>HTML5이전에 구현된 서비스에서는???</li> <li>socket.io와 SocketJS는 HTML5이전의 기술로 구현된 서비스에서 웹 소켓처럼 사용할 수 있도록 도와주는 기술임</li></ul> <ol><li><p>Websocket은 문자열들을 주고받을 수 있게 해줄 뿐, 그이상의 일은 하지 않음</p></li> <li><p>주고받는 문자열의 해독은 온전히 어플리케이션에게 맡김</p></li> <li><p>WebSocket의 형식은 정해져 있지 않기 때문에, 어플리케이션에서 쉽게 해석하기가 어려움</p></li> <li><p>WebSocket방식은 sub-protocols을 사용해서 주고받는 메시지의 형태를 약속하는 경우가 많다.</p></li></ol> <h3 id="서브-포로토콜-stomp-simple-text-oriented-message-protocol"><a href="#서브-포로토콜-stomp-simple-text-oriented-message-protocol" class="header-anchor">#</a> 서브 포로토콜 STOMP (Simple Text Oriented Message Protocol)</h3> <ul><li>STOMP는 채팅 통신을 하기 위한 형식을 정의함</li> <li>HTTP와 유사하게 간단히 정의되어 해석하기 편한 프로토콜</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/til/assets/js/app.98926441.js" defer></script><script src="/til/assets/js/2.52735d0a.js" defer></script><script src="/til/assets/js/55.c6bfeb86.js" defer></script>
  </body>
</html>
