(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{420:function(t,e,a){"use strict";a.r(e);var s=a(44),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"세션"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#세션"}},[t._v("#")]),t._v(" 세션")]),t._v(" "),a("h2",{attrs:{id:"정의"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#정의"}},[t._v("#")]),t._v(" 정의")]),t._v(" "),a("p",[t._v("| Client <-> 서버간의 네트워크 연결이 지속유지되고 있는 상태")]),t._v(" "),a("h2",{attrs:{id:"사실"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#사실"}},[t._v("#")]),t._v(" 사실")]),t._v(" "),a("ul",[a("li",[t._v("Client가 서버에 Request를 보내면 서버는 Client에게 세션 ID를 부여한다.")]),t._v(" "),a("li",[t._v("세션ID를 통하여 서버는 Client를 구분한다.")]),t._v(" "),a("li",[t._v("서버에 정보가 저장되기 때문에 Client에 정보를 저장하는 쿠키보다 보안이 우수하다")])]),t._v(" "),a("h2",{attrs:{id:"동작-방식"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#동작-방식"}},[t._v("#")]),t._v(" 동작 방식")]),t._v(" "),a("ol",[a("li",[t._v("Client가 서버에 접속하면 세션ID를 발급 받음")]),t._v(" "),a("li",[t._v("Client는 발급받은 세션ID를 쿠키로 저장함")]),t._v(" "),a("li",[t._v("Client가 서버로 Request할 떄 이 쿠키의 세션 ID를 같이 Request")])]),t._v(" "),a("p",[a("code",[t._v("세션쿠키")])]),t._v(" "),a("h3",{attrs:{id:"세션쿠키의-expires"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#세션쿠키의-expires"}},[t._v("#")]),t._v(" 세션쿠키의 expires")]),t._v(" "),a("p",[t._v("| expires/max-age 는 쿠키의 만료 시간을 정해줍니다. 이 옵션이 없으면 브라우저가 닫힐 때 쿠키도 같이 삭제됩니다(세션쿠키)")]),t._v(" "),a("h3",{attrs:{id:"세션-아이디는-어떻게-구성되나"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#세션-아이디는-어떻게-구성되나"}},[t._v("#")]),t._v(" 세션 아이디는 어떻게 구성되나?")]),t._v(" "),a("ol",[a("li",[t._v("세션아이디는 세션동안 사용자를 기억할 수 있어야함")]),t._v(" "),a("li",[t._v("서버는 사용자에게 "),a("code",[t._v("고유한")]),t._v(" 세션아이디를 부여해야함")]),t._v(" "),a("li",[t._v("세션아이디(세션쿠키)는 "),a("code",[t._v("Expire")]),t._v(" 만료날짜를 가져야함 왜냐하면 만약 세션쿠키를 해킹당한다면, 무기한으로 사용될 수 있기 때문임")]),t._v(" "),a("li",[t._v("세션아이디는 일시적이고, "),a("code",[t._v("추측할 수 없어야함")])]),t._v(" "),a("li",[t._v("세션아이디 자체에, 유저를 식별할 수 있는 정보를 담을 수 도 있음")])]),t._v(" "),a("h3",{attrs:{id:"쿠키의-key-value에는-encodeuricomponent를-사용하자"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#쿠키의-key-value에는-encodeuricomponent를-사용하자"}},[t._v("#")]),t._v(" 쿠키의 key,value에는 "),a("code",[t._v("encodeURIComponent")]),t._v("를 사용하자")]),t._v(" "),a("p",[t._v("| 쿠키의 이름과 값엔 특별한 제약이 없기 때문에 모든 글자가 허용됩니다. 하지만 형식의 유효성을 일관성 있게 유지하기 위해 반드시 내장 함수 encodeURIComponent를 사용하여 이름과 값을 이스케이프 처리해 줘야 합니다.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sessionId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SHA2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ipAddress "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" secretKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[t._v("이 방법의 장점은 세션ID를 별도의 데이터베이스에 저장할 필요가 없다는 점입니다")])]),t._v(" "),a("p",[t._v("좀더 안정적인 보안을 위해 난수를 섞어 생성할 수 도 있습니다")]),t._v(" "),a("h3",{attrs:{id:"참고"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#참고"}},[t._v("#")]),t._v(" 참고")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://devhaks.github.io/2019/04/20/session-strategy/",target:"_blank",rel:"noopener noreferrer"}},[t._v("세션이란"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=r.exports}}]);